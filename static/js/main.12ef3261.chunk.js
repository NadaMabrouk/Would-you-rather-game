(this["webpackJsonpwould-you-rather"]=this["webpackJsonpwould-you-rather"]||[]).push([[0],{50:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(21),o=n.n(s),r=(n(50),n(7)),c=n(8),i=n(10),u=n(9),j=n(44),l=n(12),d=n(3),b={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://i.ibb.co/m5LSmnK/kisspng-computer-icons-user-profile-clip-art-icon-design-asha-rani-author-at-hire-help-5b6e34d7e0e36.png",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://i.ibb.co/NZz19Qf/avat1.png",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://i.ibb.co/3f9CBKj/avat3.png",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},h={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function O(e){return new Promise((function(t,n){var a=e.author,s=function(e){var t=e.optionOneText,n=e.optionTwoText,a=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:a,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:n}}}(e);setTimeout((function(){h=Object(d.a)(Object(d.a)({},h),{},Object(l.a)({},s.id,s)),b=Object(d.a)(Object(d.a)({},b),{},Object(l.a)({},a,Object(d.a)(Object(d.a)({},b[a]),{},{questions:b[a].questions.concat([s.id])}))),t(s)}),1e3)}))}function p(e){var t=new Date(e);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}var m="RECEIVE_USERS",v="SAVE_ANSWER_TO_USER",x="USER_NEW_QUESTION";var f=n(17),g=n.n(f),y="RECEIVE_QUESTIONS",w="SAVE_QUESTION_ANSWER",T="ADD_QUESTION";function q(e,t){return function(n,a){var s=a().authedUser;return n(Object(f.showLoading)()),function(e){var t=e.authedUser,n=e.qid,a=e.answer;return new Promise((function(e,s){setTimeout((function(){b=Object(d.a)(Object(d.a)({},b),{},Object(l.a)({},t,Object(d.a)(Object(d.a)({},b[t]),{},{answers:Object(d.a)(Object(d.a)({},b[t].answers),{},Object(l.a)({},n,a))}))),h=Object(d.a)(Object(d.a)({},h),{},Object(l.a)({},n,Object(d.a)(Object(d.a)({},h[n]),{},Object(l.a)({},a,Object(d.a)(Object(d.a)({},h[n][a]),{},{votes:h[n][a].votes.concat([t])}))))),e()}),500)}))}({authedUser:s,qid:e,answer:t}).then((function(){n(function(e,t,n){return{type:w,qid:t,answer:n,authedUser:e}}(s,e,t)),n(function(e,t,n){return{type:v,qid:t,answer:n,authedUser:e}}(s,e,t))})).then((function(){n(Object(f.hideLoading)())}))}}function N(e,t){return function(n,a){var s=a().authedUser;return console.log(s),n(Object(f.showLoading)()),O({author:s,optionOneText:e,optionTwoText:t}).then((function(e){n(function(e){return{type:T,question:e}}(e)),n(function(e){return{type:x,question:e}}(e))})).then((function(){n(Object(f.hideLoading)())}))}}function U(){return function(e){return e(f.showLoading),Promise.all([new Promise((function(e,t){setTimeout((function(){return e(Object(d.a)({},b))}),1e3)})),new Promise((function(e,t){setTimeout((function(){return e(Object(d.a)({},h))}),1e3)}))]).then((function(e){var t=Object(j.a)(e,2);return{users:t[0],questions:t[1]}})).then((function(t){var n=t.users,a=t.questions;e(function(e){return{type:m,users:e}}(n)),e(function(e){return{type:y,questions:e}}(a)),e(f.hideLoading)}))}}var S=n(5),k="SET_AUTHED_USER",L="LOG_OUT";function C(e){return{type:"SET_AUTHED_USER",id:e}}function E(){return{type:L}}var R=n(6),_=n(1),D=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={user_ID:"",redirect:!1},e.handleChange=function(t){t.preventDefault(),e.setState({user_ID:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var n=e.props.dispatch;if(null===e.state.user_ID||""===e.state.user_ID)return alert("Please Select a User to Log In");n(C(e.state.user_ID)),e.setState({redirect:!0})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=(this.props.location.state||{from:{pathname:"/"}}).from;return!0===this.state.redirect?Object(_.jsx)(R.a,{to:e}):Object(_.jsxs)("div",{className:"login",children:[Object(_.jsx)("h2",{children:"Welcome to the Would you rather Game !"}),Object(_.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(_.jsx)("label",{children:"Please Select a User to Log in"}),Object(_.jsxs)("select",{className:"user_login",value:this.state.user_ID,onChange:this.handleChange,children:[Object(_.jsx)("option",{value:"",children:" "},"def"),this.props.users.map((function(e){return Object(_.jsx)("option",{value:e[0],children:e[1].name},e[0])}))]}),Object(_.jsx)("button",{className:"log_btn",type:"submit",children:"Log In"})]})]})}}]),n}(a.Component);var z=Object(S.connect)((function(e){var t=e.authedUser,n=e.users;return{authedUser:t,users:Object.entries(n)}}))(D),A=n(16),Q=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.curQues,a=e.name,s=e.avatarURL,o=e.date;return Object(_.jsx)(A.b,{to:"/questions/".concat(t),children:Object(_.jsxs)("div",{className:"question",children:[Object(_.jsx)("div",{className:"avatar",children:Object(_.jsx)("img",{src:s,alt:"author-avatar"})}),Object(_.jsxs)("div",{className:"ques-info",children:[Object(_.jsxs)("h4",{children:[a," asks:"]}),Object(_.jsx)("p",{children:"Would you rather?"}),Object(_.jsx)("p",{children:n.optionOne.text}),Object(_.jsxs)("p",{children:["  ",n.optionTwo.text]}),Object(_.jsx)("span",{children:o})]})]})})}}]),n}(a.Component);var I=Object(S.connect)((function(e,t){var n=e.questions,a=e.users,s=t.id,o=n[s],r=a[o.author];return{id:s,curQues:o,name:r.name,avatarURL:r.avatarURL,date:p(o.timestamp)}}))(Q),P=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.items;return Object(_.jsx)("div",{children:e.map((function(e){return Object(_.jsx)(I,{id:e},e)}))})}}]),n}(a.Component),V=n(43),F=n(38),W=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).handleLogout=function(){var t=e.props.dispatch;e.props.history.push("/"),t(E())},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.avatarURL,n=e.name;return Object(_.jsxs)("nav",{className:"nav",children:[Object(_.jsxs)("ul",{children:[Object(_.jsx)("li",{children:Object(_.jsx)(A.c,{to:"/",exact:!0,activeClassName:"active",children:"Home"})}),Object(_.jsx)("li",{children:Object(_.jsx)(A.c,{to:"/add",activeClassName:"active",children:"New Question"})}),Object(_.jsx)("li",{children:Object(_.jsx)(A.c,{to:"/leaderboard",activeClassName:"active",children:"Leaderboard"})})]}),Object(_.jsxs)("div",{className:"authed-user-info",children:[Object(_.jsx)("img",{src:t,alt:"authors-avatar"}),Object(_.jsx)("span",{children:n}),Object(_.jsx)("button",{className:"btn btn-light",type:"button",onClick:this.handleLogout,children:"Log out"})]})]})}}]),n}(a.Component);var H=Object(R.f)(Object(S.connect)((function(e){var t=e.authedUser,n=e.users;return{avatarURL:n[t].avatarURL,name:n[t].name}}))(W)),B=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(_.jsxs)("div",{className:"questions-list",children:[Object(_.jsx)(H,{}),Object(_.jsxs)(V.a,{fill:!0,defaultActiveKey:"unanswered",children:[Object(_.jsx)(F.a,{eventKey:"answered",title:"Answered",children:Object(_.jsx)(P,{items:this.props.answeredQuestions})}),Object(_.jsx)(F.a,{eventKey:"unanswered",title:"Unanswered",children:Object(_.jsx)(P,{items:this.props.unansweredQuestions})})]})]})}}]),n}(a.Component);var K=Object(S.connect)((function(e){var t=e.authedUser,n=e.users,a=e.questions,s=n[t],o=Object.keys(s.answers).sort((function(e,t){return a[t].timestamp-a[e].timestamp}));return{answeredQuestions:o,unansweredQuestions:Object.keys(a).filter((function(e){return!o.includes(e)})).sort((function(e,t){return a[t].timestamp-a[e].timestamp}))}}))(B),M=(n(63),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={selectedOption:""},e.onValueChange=function(t){e.setState({selectedOption:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),(0,e.props.dispatch)(q(e.props.match.params.id,e.state.selectedOption))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isAnswered,n=e.curQues,s=e.authorsOption,o=e.optionOneVotes,r=e.optionTwoVotes,c=e.optionOnePerc,i=e.optionTwoPerc,u=e.name,j=e.avatarURL;return Object(_.jsxs)("div",{className:"ques-details",children:[Object(_.jsx)(H,{}),Object(_.jsxs)("div",{className:"question",style:{height:"80%"},children:[Object(_.jsx)("div",{className:"avatar",children:Object(_.jsx)("img",{src:j,alt:"author-avatar"})}),Object(_.jsxs)("div",{className:"ques-info",children:[Object(_.jsxs)("h4",{children:[u," asks:"]}),Object(_.jsx)("p",{children:"Would you rather?"}),t&&Object(_.jsxs)(a.Fragment,{children:[Object(_.jsxs)("li",{className:"optionOne"===s?"correct":"",children:[Object(_.jsx)("span",{className:"perc-bar",style:{width:"".concat(c,"%")}}),Object(_.jsx)("label",{className:"answeredLabel",htmlFor:"option1",children:n.optionOne.text}),Object(_.jsxs)("span",{className:"perc-number",children:[c," %"]})]}),Object(_.jsxs)("p",{children:[o," people voted for this"]}),Object(_.jsxs)("li",{className:"optionTwo"===s?"correct":"",children:[Object(_.jsx)("span",{className:"perc-bar",style:{width:"".concat(i,"%")}}),Object(_.jsx)("label",{className:"answeredLabel",htmlFor:"option2",children:n.optionTwo.text}),Object(_.jsxs)("span",{className:"perc-number",children:[i," %"]})]}),Object(_.jsxs)("p",{children:[r," people voted for this"]})]}),!t&&Object(_.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(_.jsx)("div",{className:"radio",children:Object(_.jsxs)("label",{children:[Object(_.jsx)("input",{type:"radio",value:"optionOne",checked:"optionOne"===this.state.selectedOption,onChange:this.onValueChange}),n.optionOne.text]})}),Object(_.jsx)("div",{children:Object(_.jsxs)("label",{children:[Object(_.jsx)("input",{type:"radio",value:"optionTwo",checked:"optionTwo"===this.state.selectedOption,onChange:this.onValueChange}),n.optionTwo.text]})}),Object(_.jsx)("div",{children:Object(_.jsx)("button",{className:"btn btn-primary",type:"submit",disabled:""===this.state.selectedOption,children:"Submit"})})]})]})]})]})}}]),n}(a.Component));var J=Object(S.connect)((function(e,t){var n=e.authedUser,a=e.users,s=e.questions,o=t.match.params.id,r=Object.keys(a[n].answers).includes(o),c="",i=s[o];r&&(c=i.optionOne.votes.includes(n)?"optionOne":"optionTwo");var u=i.optionOne.votes.length,j=i.optionTwo.votes.length,l=u+j,d=a[i.author];return{isAnswered:r,curQues:i,authorsOption:c,optionOneVotes:u,optionTwoVotes:j,optionOnePerc:100*u/l,optionTwoPerc:100*j/l,name:d.name,avatarURL:d.avatarURL}}))(M),G=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={optionOneText:"",optionTwoText:"",toHome:!1},e.handleOptionOne=function(t){t.preventDefault(),e.setState({optionOneText:t.target.value})},e.handleOptionTwo=function(t){t.preventDefault(),e.setState({optionTwoText:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),(0,e.props.dispatch)(N(e.state.optionOneText,e.state.optionTwoText)),e.setState({toHome:!0})},e}return Object(c.a)(n,[{key:"render",value:function(){return!0===this.state.toHome?Object(_.jsx)(R.a,{to:"/"}):Object(_.jsxs)("div",{className:"new-ques",children:[Object(_.jsx)(H,{}),Object(_.jsx)("h2",{children:"Create New Question"}),Object(_.jsx)("h4",{children:"Would you rather?"}),Object(_.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(_.jsx)("div",{className:"form-group",children:Object(_.jsx)("input",{type:"text",className:"form-control form-control-lg",value:this.state.optionOneText,onChange:this.handleOptionOne})}),Object(_.jsx)("label",{children:"OR"}),Object(_.jsx)("div",{className:"form-group",children:Object(_.jsx)("input",{type:"text",className:"form-control form-control-lg",value:this.state.optionTwoText,onChange:this.handleOptionTwo})}),Object(_.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:""===this.state.optionOneText||""===this.state.optionTwoText,children:"Submit"})]})]})}}]),n}(a.Component),$=Object(S.connect)()(G),Y=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.usersList;return Object(_.jsxs)("div",{className:"leader-board",children:[Object(_.jsx)(H,{}),e.map((function(e){return Object(_.jsxs)("div",{className:"board-card",children:[Object(_.jsx)("div",{className:"avatar",children:Object(_.jsx)("img",{src:e.avatarURL,alt:"avatar"})}),Object(_.jsxs)("div",{className:"ques-info new-width",children:[Object(_.jsx)("span",{children:Object.keys(e.answers).length+e.questions.length}),Object(_.jsx)("h4",{children:e.name}),Object(_.jsxs)("p",{children:["Answered Questions: ",Object.keys(e.answers).length]}),Object(_.jsxs)("p",{children:["Asked Questions: ",e.questions.length]})]})]},e.id)}))]})}}]),n}(a.Component);var Z=Object(S.connect)((function(e){var t=e.users;return{usersList:Object.values(t).sort((function(e,t){return Object.keys(t.answers).length+t.questions.length-(Object.keys(e.answers).length+e.questions.length)}))}}))(Y);var X=function(){return Object(_.jsx)("h3",{children:"This Question doesn't exist."})},ee=n(45);var te=Object(S.connect)((function(e){return{authedUser:e.authedUser,questions:e.questions}}))((function(e){var t=e.authedUser,n=e.questions,a=e.component,s=Object(ee.a)(e,["authedUser","questions","component"]);return Object(_.jsx)(R.b,Object(d.a)(Object(d.a)({},s),{},{render:function(e){return null!==t?"/questions/:id"!==e.match.path||Object.keys(n).includes(e.match.params.id)?Object(_.jsx)(a,Object(d.a)({},e)):Object(_.jsx)(R.a,{to:"/404"}):Object(_.jsx)(R.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})),ne=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(U())}},{key:"render",value:function(){return Object(_.jsx)(A.a,{basename:"/Would-you-rather-game",children:Object(_.jsxs)(a.Fragment,{children:[Object(_.jsx)(g.a,{}),Object(_.jsxs)("div",{children:[Object(_.jsx)(R.b,{path:"/login",component:z}),Object(_.jsx)(te,{path:"/",exact:!0,component:K}),Object(_.jsx)(te,{path:"/questions/:id",component:J}),Object(_.jsx)(te,{path:"/add",component:$}),Object(_.jsx)(te,{path:"/leaderboard",component:Z}),Object(_.jsx)(te,{path:"/404",component:X})]})]})})}}]),n}(a.Component),ae=Object(S.connect)()(ne),se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),o(e),r(e)}))},oe=n(22);var re=Object(oe.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)(Object(d.a)({},e),t.users);case v:var n=t.authedUser,a=t.qid,s=t.answer;return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},n,Object(d.a)(Object(d.a)({},e[n]),{},{answers:Object(d.a)(Object(d.a)({},e[n].answers),{},Object(l.a)({},a,s))})));case x:var o=t.question;return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},o.author,Object(d.a)(Object(d.a)({},e[o.author]),{},{questions:e[o.author].questions.concat([o.id])})));default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(d.a)(Object(d.a)({},e),t.questions);case w:var n=t.authedUser,a=t.qid,s=t.answer;return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},a,Object(d.a)(Object(d.a)({},e[a]),{},Object(l.a)({},s,Object(d.a)(Object(d.a)({},e[a][s]),{},{votes:e[a][s].votes.concat([n])})))));case T:return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},t.question.id,t.question));default:return e}},authedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return t.id;case L:return null;default:return e}},loadingBar:f.loadingBarReducer}),ce=n(42),ie=function(e){return function(t){return function(n){console.group(n),console.log("Current Action",n.type);var a=t(n);return console.log("New state is ",e.getState()),console.groupEnd(),a}}},ue=Object(oe.a)(ce.a,ie),je=Object(oe.d)(re,ue);o.a.render(Object(_.jsx)(S.Provider,{store:je,children:Object(_.jsx)(ae,{})}),document.getElementById("root")),se()}},[[64,1,2]]]);
//# sourceMappingURL=main.12ef3261.chunk.js.map